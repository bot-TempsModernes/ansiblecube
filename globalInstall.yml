---
#Switch over "localhost" or "SystemPushInstall"

# localhost is used when ansible-pull is used to play the playbook
# SystemPushInstall is used in PUSH mode and you have to set the device's IP in "hosts" file 

#- hosts: localhost
- hosts: SystemPushInstall

  roles:
    - set_custom_fact
    - systemInit
    - nginx
    - uwsgi
    - { role: ideascube, version: "0.9.11" }
    - { role: kiwix, version: "1" }

    - role: tinc-static
      when: managed_by_bsf|bool == True

  # post_tasks:
  #   - name: Global install completed, let's reboot!
  #     command: shutdown -r now "Ansible updates over!"
